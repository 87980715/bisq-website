<!doctype html>  
<!--[if lt IE 7 ]> <html class="ie6 ie" lang="en-GB"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7 ie" lang="en-GB"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8 ie" lang="en-GB"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en-GB"> <!--<![endif]-->
<head>


	<meta charset="UTF-8" />

	<title>



	Hidden Services &lsaquo; 	Bisq - The decentralized bitcoin exchange	</title>
	
	<link rel="stylesheet" href="/wp-content/themes/pinzolo/style.css" type="text/css" media="screen" />	
	<link rel="pingback" href="/xmlrpc.php" />
	
	<link rel="icon" href="/favicon.ico" type="image/x-icon" />
	
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
	
	<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Bisq &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Bisq &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Bisq &raquo; Hidden Services Tag Feed" href="/blog/tag/hidden-services/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/bitsquare.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='opensans-css'  href='https://fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C700italic%2C300%2C600%2C700&#038;ver=4.7.5' type='text/css' media='all' />
<link rel='stylesheet' id='A2A_SHARE_SAVE-css'  href='/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.14' type='text/css' media='all' />
<style id='A2A_SHARE_SAVE-inline-css' type='text/css'>
@media screen and (max-width:980px){
.a2a_floating_style.a2a_vertical_style{display:none;}
}
@media screen and (min-width:981px){
.a2a_floating_style.a2a_default_style{display:none;}
}
</style>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='/wp-content/plugins/add-to-any/addtoany.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/fd-footnotes/fdfootnotes.js?ver=1.34'></script>
<script type='text/javascript' src='/wp-content/themes/pinzolo/js/superfish.js?ver=4.7.5'></script>
<script type='text/javascript' src='/wp-content/themes/pinzolo/js/jquery.formalize.min.js?ver=4.7.5'></script>
<script type='text/javascript' src='/wp-content/themes/pinzolo/js/tinynav.js?ver=4.7.5'></script>
<script type='text/javascript' src='/wp-content/themes/pinzolo/js/pinzolo.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.7.5" />

<script type="text/javascript">
var a2a_config=a2a_config||{};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.templates=a2a_config.templates||{};a2a_localize = {
	Share: "Share",
	Save: "Save",
	Subscribe: "Subscribe",
	Email: "Email",
	Bookmark: "Bookmark",
	ShowAll: "Show all",
	ShowLess: "Show less",
	FindServices: "Find service(s)",
	FindAnyServiceToAddTo: "Instantly find any service to add to",
	PoweredBy: "Powered by",
	ShareViaEmail: "Share via email",
	SubscribeViaEmail: "Subscribe via email",
	BookmarkInYourBrowser: "Bookmark in your browser",
	BookmarkInstructions: "Press Ctrl+D or \u2318+D to bookmark this page",
	AddToYourFavorites: "Add to your favorites",
	SendFromWebOrProgram: "Send from any email address or email program",
	EmailProgram: "Email program",
	More: "More&#8230;"
};

a2a_config.onclick=1;
</script>
<script type="text/javascript" src="https://static.addtoany.com/menu/page.js" async="async"></script>

	<style type="text/css" id="custom-colour-css">
		.dets ul a, .dets p a, .content a, footer a:hover { color:  #0086c5; } 
		#logoContainer h1, #logoContainer h1 a, #logoContainer h1 a:hover { color:  #ffffff;  } 
		#logoContainer p{ color:  #ffffff;  } 
		article .dets h2 a, h1, h2, h3{ color:  #666666 ;  }			
	</style>
			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>

</head>
<body class="archive tag tag-hidden-services tag-22 custom-background">

	<div id="wrapper_border" class="center" style="margin-top: 50px;">
	

								
		<div id="wrapper_bg" class="center" >
			

			<div id="navwrap">
			
				<div id="navwrap2">		
	
					<nav>
						<ul id="menuUl" class="menu"><li class="tnskip" >&nbsp;</li><li id="menu-item-40" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-40"><a href="/">Home</a></li>
<li id="menu-item-1427" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1427"><a href="https://market.bitsquare.io/">Markets</a></li>
<li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="/philosophy/">Philosophy</a></li>
<li id="menu-item-36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-36"><a href="/community/">Community</a></li>
<li id="menu-item-468" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-468"><a href="/faq/">FAQ</a></li>
<li id="menu-item-597" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-597"><a href="/blog/category/news/">Blog</a></li>
<li id="menu-item-1271" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1271"><a href="https://forum.bitsquare.io/">Forum</a></li>
<li id="menu-item-1602" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1602"><a href="/downloads/">Downloads</a></li>
<li class="tnskip">&nbsp;</li><li class="tnskip filler"></li></ul>					
					</nav>
					
				</div>			
			
			</div>







						
						
				
	<div id="main" class="center">
		
		<div id="bcont">
		
							
				<h2 class="btitle">Posts in the Hidden Services category</h2>
				<div id="blog_head">				
	
	<div id="searchbox" class="menu">
		
		<form action="/" method="get">
				<input id="Searchform" type="text" class="textfield wpcf7-text" name="s" size="24" value="search" />					
			</form>		
	</div>
			
	<select  name='cat' id='cat' class='postform' >
	<option value='-1'>Select category</option>
	<option class="level-0" value="4">Video</option>
	<option class="level-0" value="5">News</option>
	<option class="level-0" value="6">Discussion</option>
	<option class="level-0" value="7">Opinion</option>
	<option class="level-0" value="34">Privacy</option>
	<option class="level-0" value="35">Technical</option>
</select>
	
	<script type="text/javascript">
		var dropdown = document.getElementById("cat");
		function onCatChange() {
			if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
				location.href = "https://bitsquare.io/?cat="+dropdown.options[dropdown.selectedIndex].value;
			}
		}
		dropdown.onchange = onCatChange;
	</script>
	
</div>				
					
			
				
			
				<article id="post-1157" class="post-1157 post type-post status-publish format-standard hentry category-news tag-dht tag-hidden-services tag-p2p-network tag-tor" >				
		
					<div class="dets_wrap">

	<div class="dets">
		<h2><a href="/blog/new-p2p-network/">New P2P network</a></h2>						
		
		<ul>
			<li><span>By</span> Manfred Karrer </li>
			
						
				<li><span>In</span> <a href="/blog/category/news/" rel="category tag">News</a></li>
													<li><span>Tagged with</span> <a href="/blog/tag/dht/" rel="tag">DHT</a> <a href="/blog/tag/hidden-services/" rel="tag">Hidden Services</a> <a href="/blog/tag/p2p-network/" rel="tag">P2P network</a> <a href="/blog/tag/tor/" rel="tag">Tor</a></a></li>
						

			<li><span>On</span>	Oct 6th 2015</li>			
						<li class="perm"><a href="/blog/new-p2p-network/"><img src="/wp-content/themes/pinzolo/images/permalink.svg" alt="permalink" /></a></li>
							
		</ul>
		
				
	</div>
	
</div>					
					<div class="content_wrap">
						<div class="content">
										
							<p>Some of you might ask what causes the delay of the beta release which was planned for that summer.<br />
The reason for the delay is a change in a fundamental part of the application &#8211; <strong>the P2P network</strong>.</p>
<p><em>The following might be a bit technical. If you are not interested in those details you can skip to the last paragraph as well.</em></p>
<h3>DHT</h3>
<p>Bisq used <a href="http://tomp2p.net/">TomP2P</a> which is the most mature Java <a href="https://en.wikipedia.org/wiki/Distributed_hash_table">DHT</a> implementation available and I was lucky to get the author &#8211; <a href="http://www.csg.uzh.ch/staff/bocek.html">Thomas Bocek</a> &#8211; on board to help to fix the open issues with <a href="https://en.wikipedia.org/wiki/NAT_traversal">Nat traversal</a>.<br />
Those issues was the source of a constant concern since the project start as for any P2P network it is a big challenge to overcome the restrictions set up by NATs and firewalls to avoid that nodes are accessible from other nodes in the internet.</p>
<h3>Tor</h3>
<p><a href="https://github.com/JesusMcCloud">Bernd Prünster</a> introduced another idea to me which turned out to not only solve the NAT problematic but also helps to mitigate other open issues I had with a DHT solution: Using a Tor proxy to delegate the network traffic over <a href="https://www.torproject.org/">Tor</a> and therefore delegate the NAT problematic to Tor, which has solved that to a very satisfying level (they even pass through Chinas great firewall).</p>
<p>But no worry the Bisq user don&#8217;t need to do anything. It is all integrated into the application and no special setup is required. There are also no performance drawbacks with the small amount of data sent by Bisq.</p>
<p>Using Tor not only solved the network connectivity issues but also adds the high level of anonymity Tor provides to Bisq. In fact we use Tors <a href="https://www.torproject.org/docs/hidden-services.html.en">Hidden Services</a> for every node to make the P2P communication completely anonymous (<a href="https://www.torproject.org/docs/faq.html.en#AttacksOnOnionRouting">as far Tor provides that</a>).<br />
That solved another open issue with the previous solution: The offerer need to be able to get contacted by a taker and therefore leaked his IP address when publishing an offer.<br />
Now there are no IP addresses used but onion addresses. Those cannot be used to reveal the real location or identity of the user and that previous privacy issue is therefore solved.</p>
<h3>Flooding network</h3>
<p>The network routing algorithm used to transport the data (offers) previously stored in the DHT to all users is now a <a href="https://en.wikipedia.org/wiki/Flooding_%28computer_networking%29">flooding</a> (or gossiping) algorithm. A similar one is used in Bitcoin to provide a very robust P2P network with less vulnerabilities as a structured network like a DHT.</p>
<p>More sophisticated and effective routing algorithms like <a href="https://en.wikipedia.org/wiki/Kademlia">Kademlia routing</a> which is used in DHTs come with a serious Sybil attack risk, as anyone who can control certain nodes could control the storage of certain data. The problem is that the network ID creation is free and the network ID is used to derive the storage location. So  you can create a huge amount of netwok IDs and then select those which are giving you the control over the data storage location of the data you want to control.<br />
That vulnerability is mitigated with the flooding algorithm as every node stores everything.</p>
<p>Satoshi has chosen the flooding algorithm for Bitcoins P2P network to obtain a highly decentralized and randomized network structure which is very important to secure the network against hostile takeover of parts of the network.<br />
Though it came with some costs regarding resource usage. As we know, every full node in the Bitcoin network has to store 50 GB of blockchain data.<br />
Luckily Bisq uses very small amount of short living data and the number of nodes will be much smaller as well. I estimate there will be data storage requirements of a few hundreds of Kilobytes or a few Megabytes. Each data has an expiration date, so our requirements will not cause any scalability problems.</p>
<p>Additionally to the publicly readable data like the offers there are data stored which need to remain private. There are trade process messages which are stored in a kind of mailbox in case the peer is offline. Those data are encrypted and signed and also sent to every node for storage. Only the receiver (who has the private key) can decrypt the data. A similar approach is used in <a href="https://bitmessage.org/">Bitmessage</a>.</p>
<h3>Current state</h3>
<p>Of course <strong>building a custom P2P network</strong> is a task which <strong>needs time and caution</strong>. That&#8217;s what causes the delay in the <a href="/roadmap/">roadmap</a> to release the Beta version.<br />
The new network is basically already implemented in the application but it is not completed yet.</p>
<p>I hope that we can release the Beta version in about 2-6 weeks.</p>
<div class="addtoany_share_save_container addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_16 addtoany_list" data-a2a-url="https://bitsquare.io/blog/new-p2p-network/" data-a2a-title="New P2P network"><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Fnew-p2p-network%2F&amp;linkname=New%20P2P%20network" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Fnew-p2p-network%2F&amp;linkname=New%20P2P%20network" title="Reddit" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Fnew-p2p-network%2F&amp;linkname=New%20P2P%20network" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_button_delicious" href="https://www.addtoany.com/add_to/delicious?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Fnew-p2p-network%2F&amp;linkname=New%20P2P%20network" title="Delicious" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"><img src="https://static.addtoany.com/buttons/share_16_16.png" alt="Share"></a></div></div>						</div>
					</div>
					
				</article>
				
				<div class="clear"></div>
				
						
		</div>		
					
			<nav class="navigation">

								
				<div class="nav-previous"></div>
				<div class="nav-next"></div>
				 
			</nav>
			
			<div class="clear"></div>
				
	</div>

			
			<footer class="center copy">
						
<div style="display: none;">
				<p> <a href="http://thriveweb.com.au/the-lab/pinzolo-a-free-responsive-wordpress-theme/">Pinzolo Theme</a> - Made on the Gold Coast by THRIVE </p>
				<p> Powered by <a href="http://wordpress.org/" title="WordPress">WordPress</a></p>
					
				<p id="thrive"> <img src="/wp-content/themes/pinzolo/images/thrive.png" title="thrive" width="40" height="40" /></p>	
</div>					

<nav class="nav-footer">
						<ul id="menuUIfooter" class="menu"><li class="tnskip" >&nbsp;</li><li id="menu-item-42" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-42"><a href="/press/">Press</a></li>
<li id="menu-item-453" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-453"><a href="/roadmap/">Roadmap</a></li>
<li id="menu-item-1601" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1601"><a href="/contribute/">Contribute</a></li>
<li id="menu-item-451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-451"><a href="/dao/">DAO</a></li>
<li id="menu-item-44" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-44"><a href="/contact/">Contact</a></li>
<li class="tnskip">&nbsp;</li><li class="tnskip filler"></li></ul>					
</nav>

				<br />
				<p> &copy; 2017 Bisq</p>

			</footer>
		
		</div>
	
	</div>
	
	<div class="a2a_kit a2a_kit_size_32 a2a_floating_style a2a_vertical_style" style="right:30px;top:750px;"><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Reddit" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_button_delicious" href="https://www.addtoany.com/add_to/delicious?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Delicious" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"><img src="https://static.addtoany.com/buttons/share_16_16.png" alt="Share"></a></div><div class="a2a_kit a2a_kit_size_32 a2a_floating_style a2a_default_style" style="bottom:0px;right:0px;"><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Reddit" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_button_delicious" href="https://www.addtoany.com/add_to/delicious?linkurl=https%3A%2F%2Fbitsquare.io%2Fblog%2Ftag%2Fhidden-services%2F&amp;linkname=Hidden%20Services" title="Delicious" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"><img src="https://static.addtoany.com/buttons/share_16_16.png" alt="Share"></a></div><script type='text/javascript'>
/* <![CDATA[ */
var pbd_alp = {"startPage":"1","maxPages":"1","nextLink":null};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/pinzolo/js/load-posts.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.7.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"bitsquaresite"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.7.5'></script>
	
</body>
</html>